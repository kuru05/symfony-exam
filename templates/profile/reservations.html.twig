{% extends 'base.html.twig' %}

{% block title %}Mes Réservations - EventHub
{% endblock %}

{% block body %}
	<div class="container py-5">
		<h1 class="h3 mb-4 fw-bold text-primary">Mes Réservations</h1>

		<div class="row">
			<div class="col-12">
				{% if reservations is empty %}
					<div class="alert alert-info border-0 shadow-sm">
						Vous n'avez pas encore de réservations.
						<a href="{{ path('app_event_index') }}" class="fw-bold text-decoration-none">Découvrir les événements</a>.
					</div>
				{% else %}
					<div class="card shadow-sm border-0">
						<div class="card-body p-0">
							<div class="table-responsive">
								<table class="table table-hover align-middle mb-0">
									<thead class="bg-light">
										<tr>
											<th class="ps-4">Événement</th>
											<th>Date</th>
											<th>Lieu</th>
											<th>Places</th>
											<th class="text-end pe-4">Actions</th>
										</tr>
									</thead>
									<tbody>
										{% for reservation in reservations %}
											<tr>
												<td class="ps-4 fw-bold text-primary">
													<a href="{{ path('app_event_show', {'id': reservation.event.id}) }}" class="text-decoration-none">
														{{ reservation.event.title }}
													</a>
												</td>
												<td>{{ reservation.event.date|date('d/m/Y H:i') }}</td>
												<td>{{ reservation.event.location }}</td>
												<td>
													<span class="badge bg-secondary rounded-pill">{{ reservation.guestCount }}</span>
												</td>
												<td class="text-end pe-4">
													<a href="{{ path('app_event_show', {'id': reservation.event.id}) }}" class="btn btn-sm btn-outline-primary">Détails</a>
												</td>
											</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div>
				{% endif %}
			</div>
		</div>
	</div>
{% endblock %}
